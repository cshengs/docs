# 小技巧 Tips

> 这里主要记录适合单独开一个文件的小技巧。

## 开发实践

> 结合自己的经历，记录一些开发实践。

**记得封装数据库操作**

在设计架构时，不管选择哪个数据库，一定要用工厂模式来封装数据库操作，这样可以方便切换数据库。

（我刚开始利用 Python 开发的应用选用了 SQLite，用了一个类来操作，现在我想更换为 MySQL，发现要改动的地方太多了）

## 正则表达式 Regex

设计笔记官方有一篇文章专门介绍正则表达式，可以参考[这里](https://www.shejibiji.com/archives/8719)。

这里相当于是一个补充，通过使用场景来介绍正则表达式的使用。

**1. 匹配 MD 中的标题**

比如我想匹配`## Title`这样的标题，直接搜索`## `也会匹配到`### Title`，这个时候就可以用正则来匹配，在搜索替换中输入下面命令就可以排除掉 H3 的标题：

```bash
(?<!#)##\s
```

- `(?<!#)`: 表示不匹配`#`，即`##`前面不能有`#`。

- `\s`: 表示空格。

## Xpath

Xpath 是一种在 XML 文档中定位节点的语言，也可以用于 HTML 文档。

在网页爬虫中，我们经常会用到 Xpath 来定位元素，这里记录一些常用的 Xpath 语法。

**1. 匹配所有节点**

```xpath
//*
```

**2. 匹配所有子节点**

```xpath
/*
```

**3. 匹配所有子节点的文本**

```xpath
/*/text()
```
